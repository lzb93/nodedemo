{"version":3,"sources":["webpack:///src/views/section/list.vue","webpack:///./src/views/section/list.vue?018c","webpack:///./src/views/section/list.vue"],"names":["list","name","data","isCreateChapter","isUpdateChapter","column_chapter_id","this","$route","params","loading","chapterTitle","chapterId","zIndex","columns","title","key","width","align","slot","created","fetchData","methods","extends_default","Object","vuex_esm","getSectionList","destroySection","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","sent","stop","toPathLink","path","$router","push","create","update","id","destroy","_ref","_this2","$Modal","confirm","content","onOk","_callee2","_context2","$Message","success","t0","console","log","error","remove","finish","apply","arguments","onCancel","warning","section_list","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-bottom","attrs","type","icon","on","click","_v","length","border","scopedSlots","_u","fn","ref","row","_s","index","margin-right","size","$event","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.ba11aac4a6c07618f115.js","sourcesContent":["<template>\n  <section>\n    <Button type=\"primary\" @click=\"create\" icon=\"md-add\" style=\"margin-bottom: 16px;\">新增文章\n    </Button>\n    <section v-if=\"list.length > 0\">\n      <Table :loading=\"loading\" border :columns=\"columns\" :data=\"list\">\n        <template slot-scope=\"{ row }\" slot=\"name\">\n          <strong>{{ row.name }}</strong>\n        </template>\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\n          <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"update(row.id)\">编辑</Button>\n          <Button type=\"error\" size=\"small\" @click=\"destroy(row.id)\">删除</Button>\n        </template>\n      </Table>\n    </section>\n  </section>\n</template>\n\n<script>\n  import {mapState, mapActions} from 'vuex';\n\n  export default {\n    name: \"list\",\n    data() {\n      return {\n        isCreateChapter: false,\n        isUpdateChapter: false,\n        column_chapter_id: this.$route.params.column_chapter_id,\n        loading: true,\n        chapterTitle: '',\n        chapterId: -1,\n        zIndex: 9999,\n        list: [],\n        columns: [\n          {\n            title: 'ID',\n            key: 'id',\n            width: 80,\n            align: \"center\"\n          },\n          {\n            title: '文章标题',\n            key: 'title'\n          },\n          {\n            title: '文章作者',\n            key: 'author'\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 200,\n            align: 'center'\n          }\n        ]\n      }\n    },\n    created() {\n      this.fetchData();\n    },\n    methods: {\n      ...mapActions({\n        getSectionList: 'section/list',\n        destroySection: 'section/destroy'\n      }),\n      // 获取章节文章\n      async fetchData() {\n        const res = await this.getSectionList({\n          column_chapter_id: this.column_chapter_id\n        });\n        this.list = res.data.data;\n        this.loading = false;\n      },\n      // 路由跳转\n      toPathLink(path) {\n        this.$router.push(path)\n      },\n      // 创建\n      create() {\n        this.$router.push('/chapter/section/create/' + this.column_chapter_id)\n      },\n      // 更新\n      update(id) {\n        this.$router.push('/chapter/section/update/' + id + '?column_chapter_id=' + this.column_chapter_id)\n      },\n      // 删除\n      destroy(id) {\n        this.$Modal.confirm({\n          title: '提示',\n          content: '<p>确定删除此章节文章吗？</p>',\n          loading: true,\n          onOk: async () => {\n            try {\n              await this.destroySection(id);\n              this.$Message.success('删除成功');\n\n              this.fetchData();\n\n            } catch (e) {\n              console.log(e)\n              this.$Message.error(e);\n\n            } finally {\n              this.$Modal.remove();\n            }\n\n          },\n          onCancel: () => {\n            this.$Message.warning('取消！');\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/section/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('Button',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.create}},[_vm._v(\"新增文章\\n  \")]),_vm._v(\" \"),(_vm.list.length > 0)?_c('section',[_c('Table',{attrs:{\"loading\":_vm.loading,\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list},scopedSlots:_vm._u([{key:\"name\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('strong',[_vm._v(_vm._s(row.name))])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.update(row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.destroy(row.id)}}},[_vm._v(\"删除\")])]}}],null,false,1888473351)})],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7181523f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/section/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7181523f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7181523f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7181523f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/section/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}